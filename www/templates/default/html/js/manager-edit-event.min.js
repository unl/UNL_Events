function isUrlValid(e){let t;try{t=new URL(e)}catch{return!1}return"http:"===t.protocol||"https:"===t.protocol}const google_microdata_button=document.getElementById("google-microdata-button");function testMicrodata(e=!0){let t=!0;const n=document.getElementById("google-microdata-button"),r=document.getElementById("google-microdata-modal-output");let i="";var o=document.getElementById("title"),a=document.querySelectorAll('.occurrence[data-microdata="false"]'),l=document.getElementById("contact-name"),c=document.getElementById("contact-website"),d=document.querySelector('input[name="contact_type"]:checked');""==o.value&&(e&&(i+="<li>Missing title</li>"),t=!1),0<a.length&&(e&&(i+="<li>Some event instances do not pass our microdata check</li>"),t=!1),""===l.value&&""===c.value||(null===d&&(e&&(i+="<li>If organizer contact info is used the type must be specified</li>"),t=!1),(""!==l.value&&""===c.value||""===l.value&&""!==c.value)&&(e&&(i+="<li>Both the organizer name and organizer website must be set if either are used</li>"),t=!1)),t?(e&&(r.innerHTML="<span class='dcf-bold'>Your event is fulfilling all microdata requirements</span>"),n.innerHTML="Your event does reach microdata requirements",n.classList.remove("unl-bg-blue"),n.classList.add("unl-bg-green"),n.classList.remove("events-b-blue"),n.classList.add("events-b-green")):(e&&(r.innerHTML="<span class='dcf-bold'>Your event is missing these requirements:</span> <ul>"+i+"</ul>"),n.innerHTML="! Your event does not reach microdata requirements !",n.classList.add("unl-bg-blue"),n.classList.remove("unl-bg-green"),n.classList.add("events-b-blue"),n.classList.remove("events-b-green"))}document.addEventListener("ModalOpenEvent_"+google_microdata_button.dataset.togglesModal,()=>{testMicrodata(!0)}),document.addEventListener("click",e=>{testMicrodata(!1)}),document.addEventListener("input",e=>{testMicrodata(!1)}),testMicrodata(!1);const deleteDatetimeElements=document.querySelectorAll(".delete-datetime"),deleteDatetimeRecurrenceElements=(deleteDatetimeElements.forEach(e=>{e.addEventListener("submit",e=>{window.confirm("Are you sure you want to delete this instance?")||e.preventDefault()})}),document.querySelectorAll(".delete-datetime-recurrence")),editRecurringEdtElements=(deleteDatetimeRecurrenceElements.forEach(e=>{e.addEventListener("submit",e=>{window.confirm("Are you sure you want to delete this occurrence of your recurring instance? The rest of the recurrences will remain.")||e.preventDefault()})}),document.querySelectorAll(".edit-recurring-edt")),editEventForm=(editRecurringEdtElements.forEach(e=>{e.addEventListener("click",e=>{window.confirm("You are editing a single occurrence of a recurring instance.")||e.preventDefault()})}),document.getElementById("#edit-event-form"));null!==editEventForm&&editEventForm.addEventListener("submit",e=>{""===document.getElementById("title").value&&(window.UNL_Events.notifier.mark_input_invalid(title),window.UNL_Events.notifier.alert("Sorry! We couldn't edit your event",'<a href="#title">Title</a> is required.'),e.preventDefault())});