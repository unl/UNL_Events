const location_buttons=document.querySelectorAll(".events-btn-location");function setUpLocationListeners(e){if("physical_location"==e){const t=document.getElementById("location"),n=document.getElementById("new-location-fields");t.addEventListener("change",()=>{"new"==t.value?n.style.display="block":n.style.display="none"}),"new"==t.value?n.style.display="block":n.style.display="none"}else if("virtual_location"==e){const r=document.getElementById("v-location"),a=document.getElementById("new-v-location-fields");r.addEventListener("change",()=>{"new"==r.value?a.style.display="block":a.style.display="none"}),"new"==r.value?a.style.display="block":a.style.display="none"}}location_buttons.forEach(n=>{n.addEventListener("click",()=>{if("true"===n.dataset.add){n.dataset.add="false",n.innerHTML=n.innerHTML.replace("Add","Remove"),n.classList.remove("dcf-btn-primary"),n.classList.add("dcf-btn-secondary"),document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value="1";const t=document.getElementById(n.dataset.controls+"_template");var e=t.content.cloneNode("true");document.getElementById(n.dataset.controls+"_container").append(e),setUpLocationListeners(n.dataset.controls)}else n.dataset.add="true",n.innerHTML=n.innerHTML.replace("Remove","Add"),n.classList.remove("dcf-btn-secondary"),n.classList.add("dcf-btn-primary"),document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value="0",document.getElementById(n.dataset.controls+"_container").innerHTML=""}),"1"==document.querySelector(`input[type='hidden'][name='${n.dataset.controls}_check']`).value&&n.click()});const ordinal=function(e){var t=e%100;return 11<=t&&t<=13?e+"th":t%10==1?e+"st":t%10==2?e+"nd":t%10==3?e+"rd":e+"th"},setRecurringOptions=(Date.prototype.isValid=function(){return!isNaN(this.getTime())},function(e,o,s){if(""!==e.value){var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let a=new Date(e.value);if(a.isValid()){var l=a.getFullYear(),c=a.getMonth()+1,i=a.getDate(),u=d[a.getDay()];const y={1:"First",2:"Second",3:"Third",4:"Fourth",5:"Last"};let e=28,t=new Date(l,c-1,28);for(;e==t.getDate();)t=new Date(l,c-1,++e);e--;let n=0,r=0;for(let t=1;t<=e;t++){let e=new Date(l,c-1,t);d[e.getDay()]==u&&t<=i&&n++,d[e.getDay()]==u&&r++}if(null!==o){const p=o.querySelectorAll(".dynamicRecurring");p.forEach(e=>{e.remove()})}if(null!=y[n]){const m=document.createElement("option");m.classList.add("dynamicRecurring"),s==y[n].toLowerCase()&&m.setAttribute("selected","selected"),m.setAttribute("value",y[n].toLowerCase()),m.innerText=y[n]+` ${u} of every month`,null!==o&&o.prepend(m)}if(4==n&&4==r){const m=document.createElement("option");m.classList.add("dynamicRecurring"),"last"==s&&m.setAttribute("selected","selected"),m.setAttribute("value","last"),m.innerText=`last ${u} of every month`,null!==o&&o.prepend(m)}if(e==i){const m=document.createElement("option");m.classList.add("dynamicRecurring"),"lastday"==s&&m.setAttribute("selected","selected"),m.setAttribute("value","lastday"),m.innerText="Last day of every month",null!==o&&o.prepend(m)}const m=document.createElement("option");m.classList.add("dynamicRecurring"),"date"==s&&m.setAttribute("selected","selected"),m.setAttribute("value","date"),m.innerText=ordinal(i)+" of every month",null!==o&&o.prepend(m)}}}),start_date=document.getElementById("start-date"),monthly_group=document.getElementById("monthly-group"),recurring_type=document.getElementById("recurring-type");""==window.UNL_Events.recurringMonth?(start_date.addEventListener("change",()=>{setRecurringOptions(start_date,monthly_group,window.UNL_Events.recurringType)}),setRecurringOptions(start_date,monthly_group),null!==recurring_type&&recurring_type.setAttribute("value",window.UNL_Events.recurringType)):(start_date.addEventListener("change",()=>{setRecurringOptions(start_date,monthly_group,window.UNL_Events.recurringMonth)}),setRecurringOptions(start_date,monthly_group,window.UNL_Events.recurringMonth),null!==recurring_type&&recurring_type.setAttribute("value",window.UNL_Events.recurringMonth));