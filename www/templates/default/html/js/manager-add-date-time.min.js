function isUrlValid(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}const time_mode_radios=Array.from(document.querySelectorAll('input[type="radio"][name="time_mode"]')),time_container=document.getElementById("time-container"),start_time_container=document.getElementById("start-time-container"),end_time_container=document.getElementById("end-time-container"),add_datetime_form=(time_mode_radios.forEach(e=>{e.addEventListener("input",()=>{var e=time_mode_radios.filter(e=>e.checked)[0];e.id===window.UNL_Events.time_mode_regular?(time_container.classList.remove("dcf-d-none"),start_time_container.classList.remove("dcf-d-none"),end_time_container.classList.remove("dcf-d-none")):e.id===window.UNL_Events.time_mode_end_time_only?(time_container.classList.remove("dcf-d-none"),start_time_container.classList.add("dcf-d-none"),end_time_container.classList.remove("dcf-d-none")):e.id===window.UNL_Events.time_mode_start_time_only?(time_container.classList.remove("dcf-d-none"),start_time_container.classList.remove("dcf-d-none"),end_time_container.classList.add("dcf-d-none")):time_container.classList.add("dcf-d-none")})}),document.getElementById("add-datetime-form"));add_datetime_form.addEventListener("submit",e=>{e.preventDefault();let t=[];var e=document.getElementById("start-date"),n=document.getElementById("start-time-am-pm-pm"),a=document.getElementById("start-time-hour"),i=document.getElementById("start-time-minute"),o=document.getElementById("end-time-am-pm-pm"),d=document.getElementById("end-time-hour"),r=document.getElementById("end-time-minute"),u=document.getElementById(window.UNL_Events.time_mode_regular),l=document.getElementById("end-time-container"),m=document.getElementById("recurring"),c=document.getElementById("recurring-type"),s=document.getElementById("recurs-until-date"),v=document.getElementById("physical_location_check"),_=document.getElementById("location"),w=document.getElementById("location-name"),p=document.getElementById("location-address-1"),f=document.getElementById("location-city"),y=document.getElementById("location-state"),E=document.getElementById("location-zip"),h=document.getElementById("location-webpage"),g=document.getElementById("virtual_location_check"),L=document.getElementById("v-location"),I=document.getElementById("new-v-location-name"),B=document.getElementById("new-v-location-url");""==e.value&&(""==e.value&&window.UNL_Events.notifier.mark_input_invalid(e),t.push('<a href="#start-date">Start date</a> is required.'));let U=new Date(e.value);n=n.checked?"pm":"am";let k=""!=a.value?parseInt(a.value)%12:0;k="pm"==n?k+12:k;a=""!=i.value?parseInt(i.value):0;U.setHours(k),U.setMinutes(a);let N=new Date(e.value);n=o.checked?"pm":"am";let Y=""!=d.value?parseInt(d.value)%12:0;Y="pm"==n?Y+12:Y;i=""!=r.value?parseInt(r.value):0;N.setHours(Y),N.setMinutes(i),""!=e.value&&u.checked&&U>N&&(window.UNL_Events.notifier.mark_input_invalid(l),t.push('Your <a href="#end-time-container">end time</a> must be on or after the <a href="#start-time-container">start time</a>.')),""!=e.value&&m.checked&&(""!=c.value&&""!=s.value||(""==c.value&&window.UNL_Events.notifier.mark_input_invalid(c),""==s.value&&window.UNL_Events.notifier.mark_input_invalid(s.value),t.push('Recurring events require a <a href="#recurring-type">recurring type</a> and <a href="#recurs-until-date">date</a> that they recur until.')),U.setHours(0),U.setMinutes(0),a=new Date(s.value),U>a&&(window.UNL_Events.notifier.mark_input_invalid(s),t.push('The <a href="#recurs-until-date">"recurs until date"</a> must be on or after the start date.'))),"1"==v.value&&("new"==_.value&&""==w.value&&(window.UNL_Events.notifier.mark_input_invalid(w),t.push('You must give your new location a <a href="#location-name">name</a>.')),"new"==_.value&&""==p.value&&(window.UNL_Events.notifier.mark_input_invalid(p),t.push('You must give your new location a <a href="#location-address-1">address</a>.')),"new"==_.value&&""==f.value&&(window.UNL_Events.notifier.mark_input_invalid(f),t.push('You must give your new location a <a href="#location-city">city</a>.')),"new"==_.value&&""==y.value&&(window.UNL_Events.notifier.mark_input_invalid(y),t.push('You must give your new location a <a href="#location-state">state</a>.')),"new"==_.value&&""==E.value&&(window.UNL_Events.notifier.mark_input_invalid(E),t.push('You must give your new location a <a href="#location-zip">zip</a>.')),"new"!=_.value||""===h.value||isUrlValid(h.value)||(window.UNL_Events.notifier.mark_input_invalid(h),t.push('<a href="#location-webpage"> Location URL</a> is not a valid URL.'))),"1"==g.value&&("new"==L.value&&""==I.value&&(window.UNL_Events.notifier.mark_input_invalid(I),t.push('You must give your new virtual location a <a href="#new-v-location-name">name</a>.')),"new"==L.value&&""==B.value?(window.UNL_Events.notifier.mark_input_invalid(B),t.push('You must give your new virtual location a <a href="#new-v-location-url">URL</a>.')):"new"!=L.value||""===B.value||isUrlValid(B.value)||(window.UNL_Events.notifier.mark_input_invalid(B),t.push('<a href="#new-v-location-url">Virtual Location URL</a> is not a valid URL.'))),0<t.length?window.UNL_Events.notifier.alert("Sorry! We couldn't create your event","<ul><li>"+t.join("</li><li>")+"</li></ul>"):add_datetime_form.submit()});